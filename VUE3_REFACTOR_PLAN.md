# æ•™æç¼–è¾‘å™¨ Vue3 é‡æ„å¼€å‘æ–¹æ¡ˆ

## ğŸ“‹ é¡¹ç›®ç°çŠ¶åˆ†æ

### å½“å‰æ¶æ„
- **æŠ€æœ¯æ ˆ**: Vue2 + wangEditor@5.1.23 + Slate.js
- **æ ¸å¿ƒä¾èµ–**: `@zving/core-editor` (åŸºäº wangEditor çš„ patch ç‰ˆæœ¬)
- **æ¨¡å—ç³»ç»Ÿ**: æ’ä»¶åŒ–æ¶æ„ï¼Œ50+ ä¸ªåŠŸèƒ½æ¨¡å—
- **ä¸»è¦åŠŸèƒ½**: å¯Œæ–‡æœ¬ç¼–è¾‘ã€æ•™å­¦èµ„æºæ’å…¥ã€äº’åŠ¨å…ƒç´ ã€æ¸¸æˆç»„ä»¶ç­‰

### å­˜åœ¨çš„é—®é¢˜
1. **æŠ€æœ¯æ ˆè€æ—§**: Vue2 å·²åœæ­¢ç»´æŠ¤ï¼Œéœ€è¦å‡çº§åˆ° Vue3
2. **ä»£ç è€¦åˆåº¦é«˜**: æ ¸å¿ƒç¼–è¾‘å™¨ç±»è¿‡äºåºå¤§ï¼ˆ1100+ è¡Œï¼‰
3. **ç±»å‹å®šä¹‰ä¸å®Œå–„**: å¤§é‡ `@ts-ignore` å’Œ `any` ç±»å‹
4. **æ¨¡å—æ³¨å†Œæ–¹å¼ç¹ç**: æ‰‹åŠ¨æ³¨å†Œæ‰€æœ‰æ¨¡å—ï¼Œç¼ºä¹è‡ªåŠ¨åŒ–
5. **çŠ¶æ€ç®¡ç†æ··ä¹±**: æ²¡æœ‰ç»Ÿä¸€çš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ
6. **æµ‹è¯•è¦†ç›–ä¸è¶³**: ç¼ºä¹å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
7. **æ€§èƒ½ä¼˜åŒ–ç©ºé—´**: å¤§é‡ DOM æ“ä½œï¼Œç¼ºä¹è™šæ‹Ÿæ»šåŠ¨ç­‰ä¼˜åŒ–

---

## ğŸ¯ é‡æ„ç›®æ ‡

### æ ¸å¿ƒç›®æ ‡
1. âœ… **å‡çº§åˆ° Vue3**: ä½¿ç”¨ Composition APIï¼Œæå‡æ€§èƒ½å’Œå¼€å‘ä½“éªŒ
2. âœ… **æå‡ä»£ç è´¨é‡**: TypeScript ä¸¥æ ¼æ¨¡å¼ï¼Œå®Œå–„çš„ç±»å‹å®šä¹‰
3. âœ… **ä¼˜åŒ–æ¶æ„è®¾è®¡**: æ¨¡å—åŒ–ã€å¯æ‰©å±•ã€æ˜“ç»´æŠ¤
4. âœ… **æ€§èƒ½ä¼˜åŒ–**: è™šæ‹Ÿæ»šåŠ¨ã€æ‡’åŠ è½½ã€é˜²æŠ–èŠ‚æµ
5. âœ… **å¼€å‘ä½“éªŒ**: å®Œå–„çš„æ–‡æ¡£ã€æµ‹è¯•ã€è°ƒè¯•å·¥å…·

### è´¨é‡æŒ‡æ ‡
- TypeScript ä¸¥æ ¼æ¨¡å¼ï¼Œç±»å‹è¦†ç›–ç‡ > 95%
- å•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 80%
- ä»£ç å¤æ‚åº¦é™ä½ 30%
- é¦–å±åŠ è½½æ—¶é—´å‡å°‘ 40%
- åŒ…ä½“ç§¯å‡å°‘ 20%

---

## ğŸ—ï¸ æ–°æ¶æ„è®¾è®¡

### 1. æŠ€æœ¯æ ˆé€‰å‹

```
æ ¸å¿ƒæ¡†æ¶:
â”œâ”€â”€ Vue 3.4+ (Composition API)
â”œâ”€â”€ TypeScript 5.0+ (ä¸¥æ ¼æ¨¡å¼)
â”œâ”€â”€ Vite 5.0+ (æ„å»ºå·¥å…·)
â””â”€â”€ Slate.js 0.103+ (ç¼–è¾‘å™¨å†…æ ¸)

çŠ¶æ€ç®¡ç†:
â”œâ”€â”€ Pinia (æ¨è) æˆ– Vuex 4
â””â”€â”€ å“åº”å¼çŠ¶æ€ç®¡ç†

UI æ¡†æ¶:
â”œâ”€â”€ Element Plus (Vue3 ç‰ˆæœ¬)
â””â”€â”€ è‡ªå®šä¹‰ç»„ä»¶åº“

å·¥å…·åº“:
â”œâ”€â”€ @vueuse/core (Vue ç»„åˆå¼å·¥å…·)
â”œâ”€â”€ lodash-es (å·¥å…·å‡½æ•°)
â”œâ”€â”€ nanoid (ID ç”Ÿæˆ)
â””â”€â”€ zustand (å¯é€‰ï¼Œè½»é‡çº§çŠ¶æ€ç®¡ç†)
```

### 2. ç›®å½•ç»“æ„è®¾è®¡

```
packages/editor-vue3/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/                          # æ ¸å¿ƒç¼–è¾‘å™¨
â”‚   â”‚   â”œâ”€â”€ editor/                    # ç¼–è¾‘å™¨æ ¸å¿ƒç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ EditorCore.ts          # ç¼–è¾‘å™¨ä¸»ç±»ï¼ˆç²¾ç®€ç‰ˆï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ EditorConfig.ts        # é…ç½®ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ EditorState.ts         # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ EditorEvents.ts        # äº‹ä»¶ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ slate/                     # Slate å°è£…
â”‚   â”‚   â”‚   â”œâ”€â”€ createEditor.ts        # ç¼–è¾‘å™¨åˆ›å»º
â”‚   â”‚   â”‚   â”œâ”€â”€ plugins/               # Slate æ’ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ transforms/            # è½¬æ¢å·¥å…·
â”‚   â”‚   â”œâ”€â”€ modules/                   # æ¨¡å—ç³»ç»Ÿ
â”‚   â”‚   â”‚   â”œâ”€â”€ ModuleRegistry.ts      # æ¨¡å—æ³¨å†Œå™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ ModuleLoader.ts        # æ¨¡å—åŠ è½½å™¨
â”‚   â”‚   â”‚   â””â”€â”€ types.ts               # æ¨¡å—ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ utils/                     # å·¥å…·å‡½æ•°
â”‚   â”‚       â”œâ”€â”€ html-converter.ts      # HTML è½¬æ¢
â”‚   â”‚       â”œâ”€â”€ selection.ts           # é€‰æ‹©å¤„ç†
â”‚   â”‚       â””â”€â”€ history.ts             # å†å²è®°å½•
â”‚   â”‚
â”‚   â”œâ”€â”€ modules/                       # åŠŸèƒ½æ¨¡å—ï¼ˆé‡æ„ï¼‰
â”‚   â”‚   â”œâ”€â”€ base/                      # åŸºç¡€æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ paragraph/             # æ®µè½
â”‚   â”‚   â”‚   â”œâ”€â”€ heading/               # æ ‡é¢˜
â”‚   â”‚   â”‚   â””â”€â”€ text-format/           # æ–‡æœ¬æ ¼å¼
â”‚   â”‚   â”œâ”€â”€ media/                     # åª’ä½“æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ image/                 # å›¾ç‰‡
â”‚   â”‚   â”‚   â”œâ”€â”€ video/                 # è§†é¢‘
â”‚   â”‚   â”‚   â””â”€â”€ audio/                 # éŸ³é¢‘
â”‚   â”‚   â”œâ”€â”€ interactive/               # äº’åŠ¨æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ question/              # é¢˜ç›®
â”‚   â”‚   â”‚   â”œâ”€â”€ discuss/               # è®¨è®º
â”‚   â”‚   â”‚   â””â”€â”€ vote/                  # æŠ•ç¥¨
â”‚   â”‚   â””â”€â”€ game/                      # æ¸¸æˆæ¨¡å—
â”‚   â”‚       â”œâ”€â”€ match-game/            # è¿çº¿æ¸¸æˆ
â”‚   â”‚       â””â”€â”€ sort-game/             # æ’åºæ¸¸æˆ
â”‚   â”‚
â”‚   â”œâ”€â”€ components/                    # Vue ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Editor.vue                 # ä¸»ç¼–è¾‘å™¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Toolbar/                   # å·¥å…·æ 
â”‚   â”‚   â”‚   â”œâ”€â”€ Toolbar.vue
â”‚   â”‚   â”‚   â””â”€â”€ ToolbarItem.vue
â”‚   â”‚   â”œâ”€â”€ HoverBar/                  # æ‚¬æµ®å·¥å…·æ 
â”‚   â”‚   â”œâ”€â”€ ContentMenu/               # å†…å®¹èœå•
â”‚   â”‚   â””â”€â”€ modules/                   # æ¨¡å—ç»„ä»¶
â”‚   â”‚       â””â”€â”€ [module-name]/
â”‚   â”‚           â”œâ”€â”€ Render.vue         # æ¸²æŸ“ç»„ä»¶
â”‚   â”‚           â””â”€â”€ Config.vue         # é…ç½®ç»„ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ composables/                   # Composition API
â”‚   â”‚   â”œâ”€â”€ useEditor.ts               # ç¼–è¾‘å™¨æ ¸å¿ƒé€»è¾‘
â”‚   â”‚   â”œâ”€â”€ useToolbar.ts              # å·¥å…·æ é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ useSelection.ts            # é€‰æ‹©é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ useHistory.ts              # å†å²è®°å½•
â”‚   â”‚   â””â”€â”€ useModule.ts               # æ¨¡å—ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ stores/                        # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ editor.ts                  # ç¼–è¾‘å™¨çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ modules.ts                 # æ¨¡å—çŠ¶æ€
â”‚   â”‚   â””â”€â”€ ui.ts                      # UI çŠ¶æ€
â”‚   â”‚
â”‚   â”œâ”€â”€ types/                         # ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ editor.ts                  # ç¼–è¾‘å™¨ç±»å‹
â”‚   â”‚   â”œâ”€â”€ modules.ts                 # æ¨¡å—ç±»å‹
â”‚   â”‚   â”œâ”€â”€ slate.ts                   # Slate ç±»å‹æ‰©å±•
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                         # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ dom.ts                     # DOM æ“ä½œ
â”‚   â”‚   â”œâ”€â”€ constants.ts               # å¸¸é‡
â”‚   â”‚   â””â”€â”€ helpers.ts                 # è¾…åŠ©å‡½æ•°
â”‚   â”‚
â”‚   â””â”€â”€ styles/                        # æ ·å¼æ–‡ä»¶
â”‚       â”œâ”€â”€ variables.less             # å˜é‡
â”‚       â”œâ”€â”€ editor.less                # ç¼–è¾‘å™¨æ ·å¼
â”‚       â””â”€â”€ modules/                   # æ¨¡å—æ ·å¼
â”‚
â”œâ”€â”€ tests/                             # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ unit/                          # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ integration/                   # é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ e2e/                           # E2E æµ‹è¯•
â”‚
â”œâ”€â”€ docs/                              # æ–‡æ¡£
â”‚   â”œâ”€â”€ architecture.md                # æ¶æ„æ–‡æ¡£
â”‚   â”œâ”€â”€ modules.md                     # æ¨¡å—å¼€å‘æŒ‡å—
â”‚   â””â”€â”€ api.md                         # API æ–‡æ¡£
â”‚
â””â”€â”€ package.json
```

### 3. æ ¸å¿ƒè®¾è®¡æ¨¡å¼

#### 3.1 æ¨¡å—ç³»ç»Ÿè®¾è®¡

```typescript
// æ¨¡å—æ¥å£å®šä¹‰
interface EditorModule {
  // æ¨¡å—æ ‡è¯†
  name: string
  version: string
  
  // Slate æ’ä»¶
  slatePlugin?: (editor: SlateEditor) => SlateEditor
  
  // å…ƒç´ å®šä¹‰
  elements?: {
    type: string
    render: (props: RenderProps) => JSX.Element | VNode
    parse?: (html: string) => SlateElement
    toHtml?: (element: SlateElement) => string
  }[]
  
  // èœå•å®šä¹‰
  menus?: MenuDefinition[]
  
  // Vue ç»„ä»¶
  components?: Record<string, Component>
  
  // åˆå§‹åŒ–é’©å­
  onInit?: (editor: EditorInstance) => void | Promise<void>
  
  // é”€æ¯é’©å­
  onDestroy?: () => void
}

// æ¨¡å—æ³¨å†Œå™¨
class ModuleRegistry {
  private modules = new Map<string, EditorModule>()
  
  register(module: EditorModule): void
  unregister(name: string): void
  get(name: string): EditorModule | undefined
  getAll(): EditorModule[]
}
```

#### 3.2 ç¼–è¾‘å™¨æ ¸å¿ƒç±»ï¼ˆç²¾ç®€ç‰ˆï¼‰

```typescript
// ä½¿ç”¨ Composition API é‡æ„
export class EditorCore {
  private editor: SlateEditor
  private moduleRegistry: ModuleRegistry
  private state: EditorState
  private events: EventEmitter
  
  constructor(config: EditorConfig) {
    this.moduleRegistry = new ModuleRegistry()
    this.state = createEditorState()
    this.events = new EventEmitter()
    this.editor = this.createSlateEditor(config)
  }
  
  // æ ¸å¿ƒæ–¹æ³•ï¼ˆç²¾ç®€ï¼‰
  getHtml(): string
  setHtml(html: string): Promise<void>
  getJson(): SlateNode[]
  setJson(nodes: SlateNode[]): void
  insertNode(node: SlateNode): void
  deleteNode(path: SlatePath): void
  
  // æ¨¡å—ç®¡ç†
  registerModule(module: EditorModule): void
  unregisterModule(name: string): void
  
  // äº‹ä»¶ç³»ç»Ÿ
  on(event: string, handler: Function): void
  off(event: string, handler: Function): void
  emit(event: string, ...args: any[]): void
  
  // ç”Ÿå‘½å‘¨æœŸ
  destroy(): void
}
```

#### 3.3 Vue ç»„ä»¶è®¾è®¡

```vue
<!-- Editor.vue - ä¸»ç¼–è¾‘å™¨ç»„ä»¶ -->
<script setup lang="ts">
import { ref, onMounted, onUnmounted } from 'vue'
import { useEditor } from '@/composables/useEditor'
import { useToolbar } from '@/composables/useToolbar'
import Toolbar from './Toolbar/Toolbar.vue'
import EditorContent from './EditorContent.vue'

const props = defineProps<{
  modelValue?: string
  config?: EditorConfig
}>()

const emit = defineEmits<{
  'update:modelValue': [value: string]
  'change': [value: string]
  'ready': [editor: EditorInstance]
}>()

const { editor, html, setHtml, isReady } = useEditor(props.config)
const { toolbarConfig } = useToolbar(editor)

// ç›‘å¬å†…å®¹å˜åŒ–
watch(html, (newHtml) => {
  emit('update:modelValue', newHtml)
  emit('change', newHtml)
})

onMounted(() => {
  if (props.modelValue) {
    setHtml(props.modelValue)
  }
  emit('ready', editor.value)
})
</script>

<template>
  <div class="editor-container">
    <Toolbar :config="toolbarConfig" />
    <EditorContent :editor="editor" />
  </div>
</template>
```

---

## ğŸ“… å¼€å‘æµç¨‹ï¼ˆåˆ†é˜¶æ®µå®æ–½ï¼‰

### é˜¶æ®µä¸€ï¼šåŸºç¡€æ¶æ„æ­å»ºï¼ˆ1-2å‘¨ï¼‰

#### 1.1 é¡¹ç›®åˆå§‹åŒ–
- [ ] åˆ›å»ºæ–°é¡¹ç›®ç›®å½• `packages/editor-vue3`
- [ ] é…ç½® Vite + Vue3 + TypeScript
- [ ] é…ç½® ESLint + Prettier
- [ ] é…ç½® Vitest æµ‹è¯•æ¡†æ¶
- [ ] é…ç½®è·¯å¾„åˆ«åå’Œæ„å»ºé€‰é¡¹

#### 1.2 æ ¸å¿ƒç±»å‹å®šä¹‰
- [ ] å®šä¹‰ç¼–è¾‘å™¨é…ç½®ç±»å‹
- [ ] å®šä¹‰æ¨¡å—æ¥å£ç±»å‹
- [ ] å®šä¹‰ Slate æ‰©å±•ç±»å‹
- [ ] å®šä¹‰äº‹ä»¶ç±»å‹

#### 1.3 åŸºç¡€å·¥å…·ç±»
- [ ] å®ç°æ¨¡å—æ³¨å†Œå™¨
- [ ] å®ç°äº‹ä»¶ç³»ç»Ÿ
- [ ] å®ç°çŠ¶æ€ç®¡ç†ï¼ˆPiniaï¼‰
- [ ] å®ç° HTML è½¬æ¢å·¥å…·

**äº¤ä»˜ç‰©**: å¯è¿è¡Œçš„åŸºç¡€æ¡†æ¶ï¼ŒåŒ…å«ç±»å‹å®šä¹‰å’Œå·¥å…·ç±»

---

### é˜¶æ®µäºŒï¼šç¼–è¾‘å™¨æ ¸å¿ƒå®ç°ï¼ˆ2-3å‘¨ï¼‰

#### 2.1 Slate ç¼–è¾‘å™¨å°è£…
- [ ] åˆ›å»º Slate ç¼–è¾‘å™¨å®ä¾‹
- [ ] å®ç°åŸºç¡€æ’ä»¶ç³»ç»Ÿ
- [ ] å®ç°é€‰æ‹©å¤„ç†
- [ ] å®ç°å†å²è®°å½•ï¼ˆæ’¤é”€/é‡åšï¼‰

#### 2.2 ç¼–è¾‘å™¨æ ¸å¿ƒç±»
- [ ] å®ç° EditorCore ç±»ï¼ˆç²¾ç®€ç‰ˆï¼‰
- [ ] å®ç°å†…å®¹è·å–/è®¾ç½®æ–¹æ³•
- [ ] å®ç°èŠ‚ç‚¹æ’å…¥/åˆ é™¤æ–¹æ³•
- [ ] å®ç°äº‹ä»¶ç³»ç»Ÿé›†æˆ

#### 2.3 Composition API å°è£…
- [ ] å®ç° `useEditor` composable
- [ ] å®ç° `useSelection` composable
- [ ] å®ç° `useHistory` composable
- [ ] å®ç° `useModule` composable

**äº¤ä»˜ç‰©**: å¯ç”¨çš„ç¼–è¾‘å™¨æ ¸å¿ƒï¼Œæ”¯æŒåŸºç¡€æ–‡æœ¬ç¼–è¾‘

---

### é˜¶æ®µä¸‰ï¼šåŸºç¡€æ¨¡å—è¿ç§»ï¼ˆ2-3å‘¨ï¼‰

#### 3.1 æ–‡æœ¬æ ¼å¼æ¨¡å—
- [ ] æ®µè½æ¨¡å—
- [ ] æ ‡é¢˜æ¨¡å—ï¼ˆH1-H6ï¼‰
- [ ] æ–‡æœ¬æ ·å¼ï¼ˆç²—ä½“ã€æ–œä½“ã€ä¸‹åˆ’çº¿ç­‰ï¼‰
- [ ] åˆ—è¡¨æ¨¡å—ï¼ˆæœ‰åºã€æ— åºï¼‰

#### 3.2 åŸºç¡€äº¤äº’æ¨¡å—
- [ ] é“¾æ¥æ¨¡å—
- [ ] ä»£ç å—æ¨¡å—
- [ ] å¼•ç”¨æ¨¡å—
- [ ] åˆ†éš”çº¿æ¨¡å—

#### 3.3 å·¥å…·æ å’Œæ‚¬æµ®æ 
- [ ] å·¥å…·æ ç»„ä»¶
- [ ] æ‚¬æµ®å·¥å…·æ ç»„ä»¶
- [ ] èœå•ç³»ç»Ÿ
- [ ] å¿«æ·é”®ç³»ç»Ÿ

**äº¤ä»˜ç‰©**: åŸºç¡€å¯Œæ–‡æœ¬ç¼–è¾‘åŠŸèƒ½å®Œæ•´å¯ç”¨

---

### é˜¶æ®µå››ï¼šåª’ä½“æ¨¡å—è¿ç§»ï¼ˆ2-3å‘¨ï¼‰

#### 4.1 å›¾ç‰‡æ¨¡å—
- [ ] å›¾ç‰‡æ’å…¥/ç¼–è¾‘
- [ ] å›¾ç‰‡æ ·å¼è®¾ç½®ï¼ˆå¯¹é½ã€åœ†è§’ç­‰ï¼‰
- [ ] å›¾ç‰‡é“¾æ¥å’Œæ ‡é¢˜
- [ ] å›¾ç‰‡åº“é›†æˆ

#### 4.2 è§†é¢‘æ¨¡å—
- [ ] è§†é¢‘æ’å…¥
- [ ] è§†é¢‘é¢„è§ˆ
- [ ] è§†é¢‘æ ·å¼è®¾ç½®

#### 4.3 éŸ³é¢‘æ¨¡å—
- [ ] éŸ³é¢‘æ’å…¥
- [ ] éŸ³é¢‘æ’­æ”¾å™¨
- [ ] éŸ³é¢‘æ ·å¼è®¾ç½®

**äº¤ä»˜ç‰©**: æ‰€æœ‰åª’ä½“æ¨¡å—åŠŸèƒ½å®Œæ•´

---

### é˜¶æ®µäº”ï¼šé«˜çº§æ¨¡å—è¿ç§»ï¼ˆ3-4å‘¨ï¼‰

#### 5.1 è¡¨æ ¼æ¨¡å—
- [ ] è¡¨æ ¼åˆ›å»º/ç¼–è¾‘
- [ ] å•å…ƒæ ¼æ“ä½œï¼ˆåˆå¹¶ã€æ‹†åˆ†ï¼‰
- [ ] è¡¨æ ¼æ ·å¼è®¾ç½®
- [ ] è¡¨æ ¼æ ‡é¢˜

#### 5.2 å…¬å¼æ¨¡å—
- [ ] LaTeX å…¬å¼ç¼–è¾‘
- [ ] MathML æ”¯æŒ
- [ ] å…¬å¼æ ‡é¢˜
- [ ] å…¬å¼æ ·å¼

#### 5.3 åˆ†æ æ¨¡å—
- [ ] å¤šæ å¸ƒå±€
- [ ] æ å®½è®¾ç½®
- [ ] æ é—´è·è®¾ç½®

**äº¤ä»˜ç‰©**: é«˜çº§ç¼–è¾‘åŠŸèƒ½å®Œæ•´

---

### é˜¶æ®µå…­ï¼šæ•™å­¦èµ„æºæ¨¡å—ï¼ˆ3-4å‘¨ï¼‰

#### 6.1 æ–‡æ¡£èµ„æº
- [ ] æ–‡æ¡£æ’å…¥
- [ ] æ–‡æ¡£é¢„è§ˆ
- [ ] æ–‡æ¡£æ ‡é¢˜è®¾ç½®

#### 6.2 äº’åŠ¨å…ƒç´ 
- [ ] é¢˜ç›®æ¨¡å—
- [ ] è®¨è®ºæ¨¡å—
- [ ] æŠ•ç¥¨æ¨¡å—
- [ ] ä½œä¸š/è€ƒè¯•æ¨¡å—

#### 6.3 ç‰¹æ®Šå…ƒç´ 
- [ ] æ€ç»´å¯¼å›¾
- [ ] 3D æ¨¡å‹
- [ ] H5 é¡µé¢
- [ ] ç½‘é¡µåµŒå…¥

**äº¤ä»˜ç‰©**: æ‰€æœ‰æ•™å­¦èµ„æºæ¨¡å—å®Œæ•´

---

### é˜¶æ®µä¸ƒï¼šæ¸¸æˆæ¨¡å—ï¼ˆ2-3å‘¨ï¼‰

#### 7.1 åŸºç¡€æ¸¸æˆ
- [ ] è¿çº¿æ¸¸æˆ
- [ ] æ’åºæ¸¸æˆ
- [ ] è¶£æ¶ˆæ¸¸æˆ
- [ ] ç¿»å¡ç‰Œæ¸¸æˆ

#### 7.2 æ¸¸æˆç¼–è¾‘å™¨
- [ ] æ¸¸æˆé…ç½®ç•Œé¢
- [ ] æ¸¸æˆé¢„è§ˆ
- [ ] æ¸¸æˆæ•°æ®ç®¡ç†

**äº¤ä»˜ç‰©**: æ‰€æœ‰æ¸¸æˆæ¨¡å—å®Œæ•´

---

### é˜¶æ®µå…«ï¼šä¼˜åŒ–å’Œæµ‹è¯•ï¼ˆ2-3å‘¨ï¼‰

#### 8.1 æ€§èƒ½ä¼˜åŒ–
- [ ] è™šæ‹Ÿæ»šåŠ¨å®ç°
- [ ] æ‡’åŠ è½½ä¼˜åŒ–
- [ ] é˜²æŠ–èŠ‚æµä¼˜åŒ–
- [ ] åŒ…ä½“ç§¯ä¼˜åŒ–

#### 8.2 æµ‹è¯•å®Œå–„
- [ ] å•å…ƒæµ‹è¯•ï¼ˆè¦†ç›–ç‡ > 80%ï¼‰
- [ ] é›†æˆæµ‹è¯•
- [ ] E2E æµ‹è¯•

#### 8.3 æ–‡æ¡£å®Œå–„
- [ ] API æ–‡æ¡£
- [ ] å¼€å‘æŒ‡å—
- [ ] è¿ç§»æŒ‡å—

**äº¤ä»˜ç‰©**: å®Œæ•´ã€ä¼˜åŒ–ã€æµ‹è¯•å……åˆ†çš„ç¼–è¾‘å™¨

---

## ğŸ”§ å¼€å‘è§„èŒƒ

### ä»£ç è§„èŒƒ

1. **TypeScript ä¸¥æ ¼æ¨¡å¼**
   ```json
   {
     "strict": true,
     "noImplicitAny": true,
     "strictNullChecks": true,
     "strictFunctionTypes": true
   }
   ```

2. **å‘½åè§„èŒƒ**
   - ç»„ä»¶: PascalCase (`EditorToolbar.vue`)
   - æ–‡ä»¶: kebab-case (`use-editor.ts`)
   - ç±»å‹: PascalCase (`EditorConfig`)
   - å˜é‡/å‡½æ•°: camelCase (`getHtml`)

3. **æ–‡ä»¶ç»„ç»‡**
   - æ¯ä¸ªæ¨¡å—ç‹¬ç«‹ç›®å½•
   - ç›¸å…³æ–‡ä»¶æ”¾åœ¨ä¸€èµ·
   - å¯¼å‡ºç»Ÿä¸€ç®¡ç†

### Git å·¥ä½œæµ

```
main (ä¸»åˆ†æ”¯)
â”œâ”€â”€ develop (å¼€å‘åˆ†æ”¯)
â”‚   â”œâ”€â”€ feature/editor-core (åŠŸèƒ½åˆ†æ”¯)
â”‚   â”œâ”€â”€ feature/image-module
â”‚   â””â”€â”€ feature/video-module
â””â”€â”€ release/v1.0.0 (å‘å¸ƒåˆ†æ”¯)
```

### æäº¤è§„èŒƒ

```
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤bug
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼
refactor: é‡æ„
test: æµ‹è¯•
chore: æ„å»º/å·¥å…·
```

---

## ğŸ“Š è´¨é‡ä¿è¯

### ä»£ç è´¨é‡å·¥å…·

1. **ESLint**: ä»£ç æ£€æŸ¥
2. **Prettier**: ä»£ç æ ¼å¼åŒ–
3. **TypeScript**: ç±»å‹æ£€æŸ¥
4. **Vitest**: å•å…ƒæµ‹è¯•
5. **Playwright**: E2E æµ‹è¯•
6. **SonarQube**: ä»£ç è´¨é‡åˆ†æï¼ˆå¯é€‰ï¼‰

### æµ‹è¯•ç­–ç•¥

1. **å•å…ƒæµ‹è¯•**: å·¥å…·å‡½æ•°ã€æ ¸å¿ƒç±»æ–¹æ³•
2. **ç»„ä»¶æµ‹è¯•**: Vue ç»„ä»¶æ¸²æŸ“å’Œäº¤äº’
3. **é›†æˆæµ‹è¯•**: æ¨¡å—é—´åä½œ
4. **E2E æµ‹è¯•**: å®Œæ•´ç”¨æˆ·æµç¨‹

### æ€§èƒ½ç›‘æ§

1. **Bundle åˆ†æ**: ä½¿ç”¨ `rollup-plugin-visualizer`
2. **æ€§èƒ½æµ‹è¯•**: Lighthouse CI
3. **å†…å­˜æ³„æ¼æ£€æµ‹**: Chrome DevTools

---

## ğŸš€ è¿ç§»ç­–ç•¥

### æ¸è¿›å¼è¿ç§»

1. **å¹¶è¡Œå¼€å‘**: æ–°æ—§ç‰ˆæœ¬åŒæ—¶ç»´æŠ¤
2. **åŠŸèƒ½å¯¹ç­‰**: ç¡®ä¿æ–°ç‰ˆæœ¬åŠŸèƒ½å®Œæ•´
3. **æ•°æ®å…¼å®¹**: ä¿è¯ HTML/JSON æ ¼å¼å…¼å®¹
4. **å¹³æ»‘åˆ‡æ¢**: æä¾›è¿ç§»å·¥å…·å’Œæ–‡æ¡£

### å…¼å®¹æ€§å¤„ç†

1. **API å…¼å®¹**: å°½é‡ä¿æŒ API ä¸€è‡´
2. **æ•°æ®æ ¼å¼**: æ”¯æŒæ—§ç‰ˆæœ¬æ•°æ®æ ¼å¼
3. **é…ç½®è¿ç§»**: æä¾›é…ç½®è½¬æ¢å·¥å…·

---

## ğŸ“š å­¦ä¹ èµ„æº

### å¿…è¯»æ–‡æ¡£

1. [Vue 3 å®˜æ–¹æ–‡æ¡£](https://cn.vuejs.org/)
2. [Slate.js æ–‡æ¡£](https://docs.slatejs.org/)
3. [TypeScript æ‰‹å†Œ](https://www.typescriptlang.org/docs/)
4. [Vite æ–‡æ¡£](https://cn.vitejs.dev/)

### å‚è€ƒé¡¹ç›®

1. [TipTap](https://tiptap.dev/) - åŸºäº ProseMirror çš„ç¼–è¾‘å™¨
2. [Lexical](https://lexical.dev/) - Facebook çš„å¯Œæ–‡æœ¬æ¡†æ¶
3. [Slate Examples](https://github.com/ianstormtaylor/slate/tree/main/site/examples)

---

## âœ… æ£€æŸ¥æ¸…å•

### å¼€å‘å‰å‡†å¤‡
- [ ] ç†Ÿæ‚‰ Vue3 Composition API
- [ ] ç†Ÿæ‚‰ Slate.js æ ¸å¿ƒæ¦‚å¿µ
- [ ] ç†Ÿæ‚‰ TypeScript é«˜çº§ç‰¹æ€§
- [ ] æ­å»ºå¼€å‘ç¯å¢ƒ

### å¼€å‘ä¸­
- [ ] éµå¾ªä»£ç è§„èŒƒ
- [ ] ç¼–å†™å•å…ƒæµ‹è¯•
- [ ] ç¼–å†™ç±»å‹å®šä¹‰
- [ ] ç¼–å†™æ–‡æ¡£æ³¨é‡Š

### å¼€å‘å
- [ ] ä»£ç å®¡æŸ¥
- [ ] æ€§èƒ½æµ‹è¯•
- [ ] å…¼å®¹æ€§æµ‹è¯•
- [ ] æ–‡æ¡£æ›´æ–°

---

## ğŸ¯ æˆåŠŸæ ‡å‡†

1. âœ… æ‰€æœ‰åŸæœ‰åŠŸèƒ½å®Œæ•´å®ç°
2. âœ… ä»£ç è´¨é‡æ˜¾è‘—æå‡ï¼ˆç±»å‹è¦†ç›–ç‡ > 95%ï¼‰
3. âœ… æ€§èƒ½æå‡ï¼ˆé¦–å±åŠ è½½æ—¶é—´å‡å°‘ 40%ï¼‰
4. âœ… æµ‹è¯•è¦†ç›–å……åˆ†ï¼ˆå•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 80%ï¼‰
5. âœ… æ–‡æ¡£å®Œå–„ï¼ˆAPI æ–‡æ¡£ã€å¼€å‘æŒ‡å—ï¼‰
6. âœ… å‘åå…¼å®¹ï¼ˆæ”¯æŒæ—§ç‰ˆæœ¬æ•°æ®æ ¼å¼ï¼‰

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **ä¸è¦ä¸€æ¬¡æ€§é‡å†™**: é‡‡ç”¨æ¸è¿›å¼è¿ç§»ï¼Œé™ä½é£é™©
2. **ä¿æŒåŠŸèƒ½å¯¹ç­‰**: ç¡®ä¿æ–°ç‰ˆæœ¬åŠŸèƒ½ä¸ç¼ºå¤±
3. **é‡è§†æµ‹è¯•**: æµ‹è¯•æ˜¯é‡æ„æˆåŠŸçš„å…³é”®
4. **æ–‡æ¡£å…ˆè¡Œ**: å…ˆè®¾è®¡å¥½æ¶æ„ï¼Œå†å¼€å§‹ç¼–ç 
5. **ä»£ç å®¡æŸ¥**: æ¯ä¸ª PR éƒ½è¦ç»è¿‡å®¡æŸ¥
6. **æ€§èƒ½ç›‘æ§**: æŒç»­ç›‘æ§æ€§èƒ½æŒ‡æ ‡

---

## ğŸ¤ å›¢é˜Ÿåä½œ

### è§’è‰²åˆ†å·¥

- **æ¶æ„å¸ˆ**: è´Ÿè´£æ¶æ„è®¾è®¡å’Œå…³é”®æŠ€æœ¯å†³ç­–
- **æ ¸å¿ƒå¼€å‘**: è´Ÿè´£ç¼–è¾‘å™¨æ ¸å¿ƒå’ŒåŸºç¡€æ¨¡å—
- **æ¨¡å—å¼€å‘**: è´Ÿè´£å…·ä½“åŠŸèƒ½æ¨¡å—å®ç°
- **æµ‹è¯•å·¥ç¨‹å¸ˆ**: è´Ÿè´£æµ‹è¯•ç”¨ä¾‹ç¼–å†™å’Œæ‰§è¡Œ
- **æ–‡æ¡£å·¥ç¨‹å¸ˆ**: è´Ÿè´£æ–‡æ¡£ç¼–å†™å’Œç»´æŠ¤

### æ²Ÿé€šæœºåˆ¶

- **æ¯æ—¥ç«™ä¼š**: åŒæ­¥è¿›åº¦å’Œé—®é¢˜
- **å‘¨ä¼š**: å›é¡¾å’Œè®¡åˆ’
- **ä»£ç å®¡æŸ¥**: æ‰€æœ‰ä»£ç å¿…é¡»ç»è¿‡å®¡æŸ¥
- **æŠ€æœ¯åˆ†äº«**: å®šæœŸåˆ†äº«æŠ€æœ¯ç»éªŒ

---

**æœ€åæ›´æ–°**: 2024-01-XX
**ç‰ˆæœ¬**: v1.0.0

